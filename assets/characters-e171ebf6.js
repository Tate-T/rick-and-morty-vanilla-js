import"./modulepreload-polyfill-3cfb730f.js";function h(n){return n.map(r=>`
    <li class="character" data-id='${r.id}'>
        <img class="character__image" src="${r.image}" alt="photo of character"/>
        <h2 class="character__name">${r.name}</h2>
        <p class="character__text1">Origin: <span class="character__origin">${r.origin.name}</span></p>
        <p class="character__text2">Location: <span class="character__location">${r.location.name}</span></p>
        <button type="button" class="character__button"></button>
    </li>
    `).join("")}async function _(n){try{return await fetch(`https://rickandmortyapi.com/api/character?page=${n}`).then(e=>e.json())}catch(e){console.log(e)}}const m="/rick-and-morty-vanilla-js/assets/not-found-PC-45123ad7.webp",f="/rick-and-morty-vanilla-js/assets/not-found-PC-2x-12ccd11d.webp";console.log(m);console.log(f);let y=1,u=[];_(y).then(n=>{let e,r,d,i;document.querySelector(".filter__list").innerHTML=h(n.results),console.log(n.results),console.log(n),u=[...u,...n.results],document.querySelector(".filter__list").addEventListener("click",l=>{if(l.target.closest(".character__button")){document.querySelector(".backdrop").classList.remove("hidden");const c=l.target.closest(".character"),a=Number(c.dataset.id)-1;e=u[a],document.querySelector(".modal__img").src=e.image,document.querySelector("#status").innerHTML=e.status,document.querySelector("#species").innerHTML=e.species,document.querySelector("#gender").innerHTML=e.gender,document.querySelector("#origin").innerHTML=e.origin.name,document.querySelector("#location").innerHTML=e.location.name,document.querySelector("#episodes").innerHTML=e.episode.length,d=5,window.innerWidth<768?i=1:window.innerWidth>768&&(i=Math.min(e.episode.length,d)),console.log(i),i===1?(document.querySelector("#item2").style.display="none",document.querySelector("#item3").style.display="none",document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):i===2?(document.querySelector("#item3").style.display="none",document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):i===3?(document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):i===4&&(document.querySelector("#item5").style.display="none");for(let t=0;t<i;t++)document.querySelector(`#item${t+1}`).style.display="flex",fetch(e.episode[t]).then(o=>o.json()).then(o=>{r=0,document.querySelector(`#title${t+1}`).textContent=o.name,document.querySelector(`#season${t+1}`).textContent=o.episode,document.querySelector(`#airdate${t+1}`).textContent=o.air_date})}}),document.querySelector("#button-search-characters").addEventListener("click",()=>{const l=document.querySelector("#input-search-characters").value.toLowerCase(),c=document.querySelectorAll(".character");let a=!1;l.value="";const t=document.querySelector(".filter__list"),o=t.querySelector(".not-found");if(o&&o.remove(),t.querySelectorAll(".not-found").forEach(s=>s.remove()),c.forEach(s=>{s.querySelector(".character__name").textContent.toLowerCase().includes(l)?(s.style.display="block",a=!0):s.style.display="none"}),!a){const s=document.createElement("div");s.classList.add("not-found"),s.innerHTML=`
                <picture class="not-found__img">
                <source
                    srcset="${m} 1x,
                            ${f} 2x"
                    media="(min-width: 1360px)" />
                <source
                    srcset="./img/component-images/tablet/not-found-Tablet.webp 1x,
                            ./img/component-images/tablet/not-found-Tablet-2x.webp 2x"
                    media="(min-width: 768px)" />
                <source
                    srcset="./img/component-images/mobile/not-found-Mobile.webp 1x,
                            ./img/component-images/mobile/not-found-Mobile-2x.webp 2x"
                    media="(min-width: 320px)" />
                <img class="not-found__img" src="${m}" alt="not found image" />
            </picture>
            <p class='not-found__text'>Oops! Try looking for something else...</p>
        `,t.appendChild(s)}}),document.querySelector("#next-episode").addEventListener("click",()=>{console.log(e),console.log(r),r=(r+1)%e.episode.length,fetch(e.episode[r]).then(l=>l.json()).then(l=>{document.querySelector("#title1").textContent=l.name,document.querySelector("#season1").textContent=l.episode,document.querySelector("#airdate1").textContent=l.air_date})}),document.querySelector(".filter__select1").addEventListener("change",l=>{const c=l.target.value.toLowerCase();document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select4").value="All",document.querySelector(".filter__input").value="",u.forEach((a,t)=>{a.status.toLowerCase()===c?document.querySelectorAll(".character")[t].style.display="block":document.querySelectorAll(".character")[t].style.display="none",c==="all"&&document.querySelectorAll(".character").forEach(o=>{o.style.display="block"})})}),document.querySelector(".filter__select2").addEventListener("change",l=>{const c=l.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__select4").value="All",u.forEach((a,t)=>{a.species.toLowerCase()===c?document.querySelectorAll(".character")[t].style.display="block":document.querySelectorAll(".character")[t].style.display="none",c==="all"&&document.querySelectorAll(".character").forEach(o=>{o.style.display="block"})})}),document.querySelector(".filter__select3").addEventListener("change",l=>{const c=l.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select4").value="All",document.querySelector(".filter__input").value="",u.forEach((a,t)=>{a.type.toLowerCase()===c?document.querySelectorAll(".character")[t].style.display="block":document.querySelectorAll(".character")[t].style.display="none",c==="all"&&document.querySelectorAll(".character").forEach(o=>{o.style.display="block"})})}),document.querySelector(".filter__select4").addEventListener("change",l=>{const c=l.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__input").value="",u.forEach((a,t)=>{a.gender.toLowerCase()===c?document.querySelectorAll(".character")[t].style.display="block":document.querySelectorAll(".character")[t].style.display="none",c==="all"&&document.querySelectorAll(".character").forEach(o=>{o.style.display="block"})})})});document.querySelector(".modal__close").addEventListener("click",()=>{document.querySelector(".backdrop").classList.add("hidden")});document.querySelector(".filter__input").addEventListener("input",n=>{const e=n.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__select4").value="All",document.querySelectorAll(".character").forEach(r=>{r.querySelector(".character__name").textContent.toLowerCase().includes(e)?r.style.display="block":r.style.display="none"})});document.querySelector(".filter__load-more").addEventListener("click",()=>{y++,_(y).then(n=>{const e=document.querySelector(".filter__list .not-found");e&&e.remove(),u=[...u,...n.results],document.querySelector(".filter__list").insertAdjacentHTML("beforeend",h(n.results))})});
