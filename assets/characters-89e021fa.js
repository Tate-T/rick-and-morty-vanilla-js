import"./modulepreload-polyfill-3cfb730f.js";function y(t){return t.map(r=>`
    <li class="character" data-id='${r.id}'>
        <img class="character__image" src="${r.image}" alt="photo of character"/>
        <h2 class="character__name">${r.name}</h2>
        <p class="character__text1">Origin: <span class="character__origin">${r.origin.name}</span></p>
        <p class="character__text2">Location: <span class="character__location">${r.location.name}</span></p>
        <button type="button" class="character__button"></button>
    </li>
    `).join("")}async function m(t){try{return await fetch(`https://rickandmortyapi.com/api/character?page=${t}`).then(e=>e.json())}catch(e){console.log(e)}}async function h(t){try{const r=await(await fetch(`https://rickandmortyapi.com/api/character?name=${t}`)).json();return r.results?r.results[0]:null}catch(e){return console.error("Error fetching character:",e),null}}let d=1,i=[];m(d).then(t=>{let e,r,u,s;document.querySelector(".filter__list").innerHTML=y(t.results),console.log(t.results),console.log(t),i=[...i,...t.results],document.querySelector(".filter__list").addEventListener("click",c=>{if(c.target.closest(".character__button")){document.querySelector(".backdrop").classList.remove("hidden");const o=c.target.closest(".character"),a=Number(o.dataset.id)-1;e=i[a],document.querySelector(".modal__img").src=e.image,document.querySelector("#status").innerHTML=e.status,document.querySelector("#species").innerHTML=e.species,document.querySelector("#gender").innerHTML=e.gender,document.querySelector("#origin").innerHTML=e.origin.name,document.querySelector("#location").innerHTML=e.location.name,document.querySelector("#episodes").innerHTML=e.episode.length,u=5,window.innerWidth<768?s=1:window.innerWidth>768&&(s=Math.min(e.episode.length,u)),console.log(s),s===1?(document.querySelector("#item2").style.display="none",document.querySelector("#item3").style.display="none",document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):s===2?(document.querySelector("#item3").style.display="none",document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):s===3?(document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):s===4&&(document.querySelector("#item5").style.display="none");for(let l=0;l<s;l++)document.querySelector(`#item${l+1}`).style.display="flex",fetch(e.episode[l]).then(n=>n.json()).then(n=>{r=0,document.querySelector(`#title${l+1}`).textContent=n.name,document.querySelector(`#season${l+1}`).textContent=n.episode,document.querySelector(`#airdate${l+1}`).textContent=n.air_date})}}),document.querySelector("#next-episode").addEventListener("click",()=>{console.log(e),console.log(r),r=(r+1)%e.episode.length,fetch(e.episode[r]).then(c=>c.json()).then(c=>{document.querySelector("#title1").textContent=c.name,document.querySelector("#season1").textContent=c.episode,document.querySelector("#airdate1").textContent=c.air_date})}),document.querySelector(".filter__select1").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select4").value="All",document.querySelector(".filter__input").value="",t.results.forEach((a,l)=>{a.status.toLowerCase()===o?document.querySelectorAll(".character")[l].style.display="block":document.querySelectorAll(".character")[l].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})}),document.querySelector(".filter__select2").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__select4").value="All",t.results.forEach((a,l)=>{a.species.toLowerCase()===o?document.querySelectorAll(".character")[l].style.display="block":document.querySelectorAll(".character")[l].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})}),document.querySelector(".filter__select3").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select4").value="All",document.querySelector(".filter__input").value="",t.results.forEach((a,l)=>{a.type.toLowerCase()===o?document.querySelectorAll(".character")[l].style.display="block":document.querySelectorAll(".character")[l].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})}),document.querySelector(".filter__select4").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__input").value="",t.results.forEach((a,l)=>{a.gender.toLowerCase()===o?document.querySelectorAll(".character")[l].style.display="block":document.querySelectorAll(".character")[l].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})})});document.querySelector(".modal__close").addEventListener("click",()=>{document.querySelector(".backdrop").classList.add("hidden")});document.querySelector(".filter__input").addEventListener("input",t=>{const e=t.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__select4").value="All",document.querySelectorAll(".character").forEach(r=>{r.querySelector(".character__name").textContent.toLowerCase().includes(e)?r.style.display="block":r.style.display="none"})});document.querySelector("#button-search-characters").addEventListener("click",async()=>{const t=document.querySelector("#input-search-characters");t.value&&await h(t.value)&&(document.querySelector(".filter__list").style.backgroundImage="url(./img/component-images/desktop/not-found-PC.webp)",document.querySelector(".filter__list").classList.add("background-character"),document.querySelectorAll(".filter__list li").forEach(u=>u.style.display="none"))});document.querySelector(".filter__load-more").addEventListener("click",()=>{d++,m(d).then(t=>{i=[...i,...t.results],document.querySelector(".filter__list").insertAdjacentHTML("beforeend",y(t.results))})});
