import"./modulepreload-polyfill-3cfb730f.js";function d(t){return t.map(e=>`
    <li class="episode" data-id='${e.id}'>
    <div class="episode__div">
        <h2 class="episode__name">${e.name}</h2>
        <div class="episode__dive">
           <p class="episode__text1">Season: <br> <span class="episode__season">${e.episode}</span></p>
           <p class="episode__text2">Air date: <br> <span class="episode__airDate">${e.air_date}</span></p>
        </div>
        <button type="button" class="episode__button"></button>
    </div>
    </li>
    `).join("")}async function u(t){try{return await fetch(`https://rickandmortyapi.com/api/episode?page=${t}`).then(o=>o.json())}catch(o){console.log(o)}}let i=1,r=[];u(i).then(t=>{document.querySelector(".filter__list").innerHTML=d(t.results),console.log(t.results),r=[...r,...t.results],document.querySelector(".filter__list").addEventListener("click",e=>{if(e.target.closest(".episode__button")){document.querySelector(".backdrop").classList.remove("hidden");const c=e.target.closest(".episode"),a=Number(c.dataset.id)-1,n=r[a];document.querySelector(".modal__title").textContent=n.name,console.log(),document.querySelector(".modal__airDate-text").textContent=n.air_date,console.log(n.air_date),document.querySelector(".modal__id-text").textContent=n.id;for(let s=0;s<4;s++)fetch(n.characters[s]).then(l=>l.json()).then(l=>{document.querySelector(`#character${s+1}`).textContent=l.name,document.querySelector(`#image${s+1}`).src=l.image})}}),document.querySelector(".filter__select").addEventListener("change",e=>{const c=e.target.value.charAt(0),a=e.target.value;document.querySelector(".filter__input").value="",console.log(c),r.forEach((n,s)=>{n.episode.charAt(2)===c?document.querySelectorAll(".episode")[s].style.display="block":document.querySelectorAll(".episode")[s].style.display="none",a==="All seasons"&&document.querySelectorAll(".episode").forEach(l=>{l.style.display="block"})})});const o=document.querySelector(".modal__close");o&&o.addEventListener("click",()=>{document.querySelector(".backdrop").classList.add("hidden")})});document.querySelector(".filter__input").addEventListener("input",t=>{const o=t.target.value.toLowerCase();document.querySelectorAll(".episode").forEach(e=>{e.querySelector(".episode__name").textContent.toLowerCase().includes(o)?e.style.display="block":e.style.display="none"})});document.querySelector(".filter__load").addEventListener("click",()=>{i++,u(i).then(t=>{r=[...r,...t.results],document.querySelector(".filter__list").insertAdjacentHTML("beforeend",d(t.results))})});
