import"./modulepreload-polyfill-3cfb730f.js";function y(l){return l.map(t=>`
    <li class="character" data-id='${t.id}'>
        <img class="character__image" src="${t.image}" alt="photo of character"/>
        <h2 class="character__name">${t.name}</h2>
        <p class="character__text1">Origin: <span class="character__origin">${t.origin.name}</span></p>
        <p class="character__text2">Location: <span class="character__location">${t.location.name}</span></p>
        <button type="button" class="character__button"></button>
    </li>
    `).join("")}async function m(l){try{return await fetch(`https://rickandmortyapi.com/api/character?page=${l}`).then(e=>e.json())}catch(e){console.log(e)}}async function h(l){try{const t=await(await fetch(`https://rickandmortyapi.com/api/character?name=${l}`)).json();return t.results?t.results[0]:null}catch(e){return console.error("Error fetching character:",e),null}}let d=1,s=[];m(d).then(l=>{let e,t,i,u;document.querySelector(".filter__list").innerHTML=y(l.results),console.log(l.results),console.log(l),s=[...s,...l.results],document.querySelector(".filter__list").addEventListener("click",c=>{if(c.target.closest(".character__button")){document.querySelector(".backdrop").classList.remove("hidden");const o=c.target.closest(".character"),a=Number(o.dataset.id)-1;e=s[a],document.querySelector(".modal__img").src=e.image,document.querySelector("#status").innerHTML=e.status,document.querySelector("#species").innerHTML=e.species,document.querySelector("#gender").innerHTML=e.gender,document.querySelector("#origin").innerHTML=e.origin.name,document.querySelector("#location").innerHTML=e.location.name,document.querySelector("#episodes").innerHTML=e.episode.length,i=5,window.innerWidth<768?u=1:window.innerWidth>768&&(u=Math.min(e.episode.length,i)),console.log(u),u===1?(document.querySelector("#item2").style.display="none",document.querySelector("#item3").style.display="none",document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):u===2?(document.querySelector("#item3").style.display="none",document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):u===3?(document.querySelector("#item4").style.display="none",document.querySelector("#item5").style.display="none"):u===4&&(document.querySelector("#item5").style.display="none");for(let r=0;r<u;r++)document.querySelector(`#item${r+1}`).style.display="flex",fetch(e.episode[r]).then(n=>n.json()).then(n=>{t=0,document.querySelector(`#title${r+1}`).textContent=n.name,document.querySelector(`#season${r+1}`).textContent=n.episode,document.querySelector(`#airdate${r+1}`).textContent=n.air_date})}}),document.querySelector("#next-episode").addEventListener("click",()=>{console.log(e),console.log(t),t=(t+1)%e.episode.length,fetch(e.episode[t]).then(c=>c.json()).then(c=>{document.querySelector("#title1").textContent=c.name,document.querySelector("#season1").textContent=c.episode,document.querySelector("#airdate1").textContent=c.air_date})}),document.querySelector(".filter__select1").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select4").value="All",document.querySelector(".filter__input").value="",s.forEach((a,r)=>{a.status.toLowerCase()===o?document.querySelectorAll(".character")[r].style.display="block":document.querySelectorAll(".character")[r].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})}),document.querySelector(".filter__select2").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__select4").value="All",s.forEach((a,r)=>{a.species.toLowerCase()===o?document.querySelectorAll(".character")[r].style.display="block":document.querySelectorAll(".character")[r].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})}),document.querySelector(".filter__select3").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select4").value="All",document.querySelector(".filter__input").value="",s.forEach((a,r)=>{a.type.toLowerCase()===o?document.querySelectorAll(".character")[r].style.display="block":document.querySelectorAll(".character")[r].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})}),document.querySelector(".filter__select4").addEventListener("change",c=>{const o=c.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__input").value="",s.forEach((a,r)=>{a.gender.toLowerCase()===o?document.querySelectorAll(".character")[r].style.display="block":document.querySelectorAll(".character")[r].style.display="none",o==="all"&&document.querySelectorAll(".character").forEach(n=>{n.style.display="block"})})})});document.querySelector(".modal__close").addEventListener("click",()=>{document.querySelector(".backdrop").classList.add("hidden")});document.querySelector(".filter__input").addEventListener("input",l=>{const e=l.target.value.toLowerCase();document.querySelector(".filter__select1").value="All",document.querySelector(".filter__select2").value="All",document.querySelector(".filter__select3").value="All",document.querySelector(".filter__select4").value="All",document.querySelectorAll(".character").forEach(t=>{t.querySelector(".character__name").textContent.toLowerCase().includes(e)?t.style.display="block":t.style.display="none"})});document.querySelector("#button-search-characters").addEventListener("click",async()=>{const l=document.querySelector("#input-search-characters");l.value&&await h(l.value)&&(document.querySelector(".filter__list").style.backgroundImage="url(./img/component-images/desktop/not-found-PC.webp)",document.querySelector(".filter__list").classList.add("background-character"),document.querySelectorAll(".filter__list li").forEach(i=>i.style.display="none"))});document.querySelector(".filter__load-more").addEventListener("click",()=>{d++,m(d).then(l=>{s=[...s,...l.results],document.querySelector(".filter__list").insertAdjacentHTML("beforeend",y(l.results))})});
